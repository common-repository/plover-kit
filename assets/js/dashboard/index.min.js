(()=>{"use strict";var e,l={600:(e,l,t)=>{const o=window.React,r=window.wp.element,a=window.wp.domReady;var n=t.n(a),d=t(239);const s=window.wp.i18n,u=window.ploverKit.dashboard,i=window.plover.api,c='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64" xml:space="preserve" class=""><g><path d="M26.163 37.766H5a1 1 0 0 0-1 1V59.38a1 1 0 0 0 1 1h21.163a1 1 0 0 0 1-1V38.766a1 1 0 0 0-1-1zm-1 20.613H6V39.766h19.163zM54.812 37.766H33.648a1 1 0 0 0-1 1V59.38a1 1 0 0 0 1 1h21.164a1 1 0 0 0 1-1V38.766a1 1 0 0 0-1-1zm-1 20.613H34.648V39.766h19.164zM26.163 8.073H5a1 1 0 0 0-1 1v20.613a1 1 0 0 0 1 1h21.163a1 1 0 0 0 1-1V9.073a1 1 0 0 0-1-1zm-1 20.613H6V10.073h19.163zM59.707 18.478 45.131 3.902a1.03 1.03 0 0 0-1.414 0L28.753 18.867a1.006 1.006 0 0 0 0 1.414l14.576 14.575a1 1 0 0 0 1.414 0l14.964-14.964a1 1 0 0 0 0-1.414zM44.036 32.735 30.874 19.574l13.55-13.551 13.162 13.162z" fill="#3c444a" opacity="1"></path></g></svg>';function m({id:e,doc:l,dirty:t,fields:r,icon:a,label:n,enabled:i,excerpt:m,onToggle:p}){const h=(!0===i||"yes"===i)&&!t,v=l=>{l.preventDefault(),h&&(0,d.route)(`module/${e}`)},_=a||c;return(0,o.createElement)("div",{className:"plover-dashboard__module plover-dashboard__card"},(0,o.createElement)("div",{className:"plover-dashboard__module-panel"},_.startsWith("http")?(0,o.createElement)("figure",{className:"plover-dashboard__module-icon"},(0,o.createElement)("img",{src:a,alt:n})):(0,o.createElement)("figure",{className:"plover-dashboard__module-icon",dangerouslySetInnerHTML:{__html:_}}),(0,o.createElement)("div",{className:"plover-dashboard__module-body"},(0,o.createElement)("div",{className:"plover-dashboard__module-title"},(0,o.createElement)("h4",null,h&&r.length>0?(0,o.createElement)("a",{href:"#",onClick:v},n):n),(0,o.createElement)(u.Switch,{value:i,onChange:p})),(0,o.createElement)("span",null,m))),(r.length>0||l)&&(0,o.createElement)("div",{className:"plover-dashboard__footer"},l&&(0,o.createElement)(u.Button,{variant:"ghost",href:l,target:"_blank"},(0,s.__)("Documentation","plover-kit")),r.length>0&&(0,o.createElement)(u.Button,{disabled:!h,onClick:v},(0,s.__)("Settings","plover-kit"))))}const p=window.wp.data;function h({group:e,modules:l,filter:t,onModuleToggle:r}){const a=l.filter((({label:e,excerpt:l})=>-1!==e.toLowerCase().indexOf(t.toLowerCase())||-1!==l.toLowerCase().indexOf(t.toLowerCase())));return a.length<=0?null:(0,o.createElement)("div",{className:"plover-dashboard__module-group"},(0,o.createElement)("div",{className:"plover-dashboard__module-group-header"},(0,o.createElement)("h3",null,e?.label),e?.description&&(0,o.createElement)("p",null,e?.description)),(0,o.createElement)("div",{className:"plover-dashboard__module-list"},a.map((e=>(0,o.createElement)(m,{...e,key:e.id,onToggle:l=>{r(e.id,l)}})))))}function v(){const{modules:e,groups:l,modulesByGroup:t,setModulesDirty:a,toggleModule:n,toggleAllModule:d}=function(){const{modules:e,groups:l}=(0,p.useSelect)((e=>({modules:e("plover/module-settings").getModules(),groups:e("plover/module-settings").getModuleGroups()})),[]),t={};e.forEach((e=>{var o;const r=l.find((({id:l})=>l===e?.group)),a=null!==(o=r?.id)&&void 0!==o?o:"default";t[a]||(t[a]=[]),t[a].push(e)}));const{toggleModule:o,toggleAllModule:r,setModulesDirty:a}=(0,p.useDispatch)("plover/module-settings");return{modules:e,groups:l,modulesByGroup:t,setModulesDirty:a,toggleModule:o,toggleAllModule:r}}(),c=e.filter((e=>e.dirty)).length>0,m=0===e.filter((e=>"yes"!==e.enabled&&!0!==e.enabled)).length,[v,_]=(0,r.useState)(!1),[g,f]=(0,r.useState)("");return(0,o.createElement)("div",{className:"plover-dashboard__wrap plover-dashboard__modules"},(0,o.createElement)("div",{className:"plover-dashboard__module-header"},(0,o.createElement)("div",{className:"plover-dashboard__module-header-group"},(0,o.createElement)(u.Switch,{label:(0,s.__)("Toggle all","plover"),value:m,onChange:e=>{d(e)}})),(0,o.createElement)("div",{className:"plover-dashboard__module-header-group"},(0,o.createElement)(u.TextInput,{placeholder:(0,s.__)("Filter...","plover"),value:g,onChange:f}),(0,o.createElement)(u.Button,{type:"submit",spinner:v,disabled:!c||v,onClick:l=>{l.preventDefault();const t=Object.fromEntries(e.filter((e=>e.dirty)).map((e=>[e.id,e.enabled])));_(!0),(0,i.updateSettingGroups)(t).then((()=>{a(!1)})).finally((()=>{_(!1)}))}},(0,s.__)("Save changes","plover")))),l.map((e=>{var l;return(0,o.createElement)(h,{key:e.id,group:e,filter:g,modules:null!==(l=t[e?.id])&&void 0!==l?l:[],onModuleToggle:n})})))}const _={text:u.TextInput,select:function({options:e,...l}){return e.length<=4?(0,o.createElement)(u.ToggleGroup,{options:e,...l}):(0,o.createElement)(u.Select,{options:e,...l})},switch:u.Switch,tags:u.Tags},g=e=>_[e]||null;function f({control:e,...l}){const t=g(e);return t?(0,o.createElement)(t,{...l}):null}function b(e){var l,t,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(l=0;l<r;l++)e[l]&&(t=b(e[l]))&&(o&&(o+=" "),o+=t)}else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}const E=function(){for(var e,l,t=0,o="",r=arguments.length;t<r;t++)(e=arguments[t])&&(l=b(e))&&(o&&(o+=" "),o+=l);return o};function y({back:e=!0,wrap:l=!0,label:t=(0,s.__)("No Result","plover")}){return(0,o.createElement)("div",{className:E({"plover-dashboard__no-result":!0,"plover-dashboard__wrap plover-dashboard__card":l})},(0,o.createElement)("h3",null,e&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)("a",{className:"plover-dashboard__back",href:"#",onClick:e=>{e.preventDefault(),(0,d.route)("")}},"←"),"  "),t))}function w(e){let l=(0,p.useSelect)((l=>l("plover/module-settings").getModule(e)),[]);const{updateModuleFields:t,toggleModule:o,setModuleFieldsDirty:r}=(0,p.useDispatch)("plover/module-settings");return{moduleData:l?{...l,id:e}:null,updateModuleFields:(...l)=>{t(e,...l)},toggleModule:(...l)=>{o(e,...l)},setModuleFieldsDirty:(...l)=>{r(e,...l)}}}const M=window.wp.hooks;function D({module:e}){const{moduleData:l,updateModuleFields:t,setModuleFieldsDirty:a}=w(e),{id:n,enabled:c,dirty:m,label:p,fields_dirty:h,fields:v}=l;if(!0!==c&&"yes"!==c||m)return(0,d.route)("");const[_,g]=(0,r.useState)(!1),b=[],E=v.map((e=>"placeholder"===e?.control?(b.push(e),null):(0,o.createElement)("tr",{key:e.id},(0,o.createElement)("th",null,(0,o.createElement)("label",null,e.label),e.help&&(0,o.createElement)("p",null,e.help)),(0,o.createElement)("td",null,(0,o.createElement)(f,{value:e?.value,onChange:l=>{t({[e.id]:l})},control:e?.control,...e?.control_args||{}}))))).filter((e=>!!e)),D=v.length>0?E.length>0?(0,o.createElement)(o.Fragment,null,(0,o.createElement)("table",{className:"plover-dashboard__form-table"},(0,o.createElement)("tbody",null,E)),(0,o.createElement)("div",{className:"plover-dashboard__footer"},(0,o.createElement)(u.Button,{type:"submit",disabled:!h||_,spinner:_,onClick:e=>{e.preventDefault();const l=Object.fromEntries(v.map((e=>[e.id,e.value])));g(!0),(0,i.updateSettingFields)(n,l).then((()=>{a(!1)})).catch((()=>{})).finally((()=>{g(!1)}))}},(0,s.__)("Save Changes","plover")))):null:(0,o.createElement)(y,{back:!1,wrap:!1});return(0,o.createElement)("div",{className:"plover-dashboard__wrap plover-dashboard__card plover-dashboard__module-settings"},(0,o.createElement)("div",{className:"plover-dashboard__header"},(0,M.applyFilters)("plover.dashboard.moduleSettingsHeader",(0,o.createElement)("h3",null,(0,o.createElement)("a",{className:"plover-dashboard__back",href:"#",onClick:e=>{e.preventDefault(),(0,d.route)("")}},"←"),"  ",p,"  -  ",(0,s.__)("Settings","plover")),{module:e,label:p})),b.map((({id:l,...t})=>(0,o.createElement)(o.Fragment,{key:l},(0,M.applyFilters)("plover.dashboard.modulePlaceholderControl",null,{id:l,module:e,props:t})))),(0,M.applyFilters)("plover.dashboard.moduleControls",D,e))}function O({module:e}){const{moduleData:l}=w(e),{description:t}=l;return t?(0,o.createElement)("div",{className:"plover-dashboard__wrap plover-dashboard__card plover-dashboard__module-details"},(0,o.createElement)("div",{className:"plover-dashboard__header"},(0,o.createElement)("h3",null,(0,s.__)("Description","plover"))),(0,o.createElement)("div",{className:"plover-dashboard__module-details-content",dangerouslySetInnerHTML:{__html:t}})):null}function k(){const e=(0,d.getHash)(),[l]=(0,d.getHashParameters)();return"module"===e&&l?(0,o.createElement)("div",{className:"plover-dashboard__module-page"},(0,o.createElement)(D,{module:l}),(0,o.createElement)(O,{module:l})):(0,o.createElement)(v,null)}const S=window.plover.components,T=window.plover.utils;var L,N;(0,M.addFilter)("plover.dashboard.modulePlaceholderControl","plover/code-highlight-upsell",(function(e,{id:l,module:t}){return"plover_code_highlight"!==t||"upsell"!==l||(0,T.is_premium)()?e:(0,o.createElement)(S.Tips,null,(0,o.createElement)("p",{dangerouslySetInnerHTML:{__html:sprintf(/* translators: %s: Premium version text & link. */ /* translators: %s: Premium version text & link. */
(0,s.__)("Upgrade to %s to access these features:","plover-kit"),'<a href="'+(0,T.upsell_url)()+'">'+(0,s.__)("Premium","plover-kit")+"</a>")}}),(0,o.createElement)("ul",null,(0,o.createElement)("li",null,(0,s.__)("Show line numbers by default","plover-kit")),(0,o.createElement)("li",null,(0,s.__)("Show languages by default","plover-kit")),(0,o.createElement)("li",null,(0,s.__)("Show copy button by default","plover-kit")),(0,o.createElement)("li",null,(0,s.__)("More highlight themes","plover-kit"))),(0,o.createElement)("a",{href:"https://wpplover.com/docs/plover-kit/modules/code-highlight/",target:"_blank"},(0,s.__)("Learn More ↗","plover-kit")))}));const F={modules:null!==(L=window?.PloverDashboard?.modules)&&void 0!==L?L:{},groups:null!==(N=window?.PloverDashboard?.module_groups)&&void 0!==N?N:{}},C={name:"plover/module-settings",options:{reducer(e=F,l){switch(l.type){case"TOGGLE_MODULE":var t;return{...e,modules:{...e.modules,[l.module]:{...null!==(t=e.modules[l.module])&&void 0!==t?t:{},enabled:l.payload,dirty:!0}}};case"SET_MODUlES_DIRTY":return{...e,modules:Object.fromEntries(Object.keys(e.modules).map((l=>[l,{...e.modules[l],dirty:!1}])))};case"TOGGLE_ALL_MODULE":return{...e,modules:Object.fromEntries(Object.keys(e.modules).map((t=>[t,{...e.modules[t],enabled:l.payload,dirty:!0}])))};case"UPDATE_MODULE_FIELDS":{var o,r;const t=null!==(o=e.modules[l.module])&&void 0!==o?o:{},a=Object.fromEntries(Object.keys(l.payload).map((e=>{var o;const r=l.payload[e];return[e,{...null!==(o=t?.fields[e])&&void 0!==o?o:{},value:r}]})));return{...e,modules:{...e.modules,[l.module]:{...t,fields_dirty:!0,fields:{...null!==(r=t?.fields)&&void 0!==r?r:{},...a}}}}}case"SET_MODUlE_FIELDS_DIRTY":{var a;const t=null!==(a=e.modules[l.module])&&void 0!==a?a:{};return{...e,modules:{...e.modules,[l.module]:{...t,fields_dirty:l.payload}}}}}return e},actions:{setModulesDirty:e=>({type:"SET_MODUlES_DIRTY",payload:e}),setModuleFieldsDirty:(e,l)=>({type:"SET_MODUlE_FIELDS_DIRTY",module:e,payload:l}),updateModuleFields:(e,l)=>({type:"UPDATE_MODULE_FIELDS",module:e,payload:l}),toggleModule:(e,l)=>({type:"TOGGLE_MODULE",module:e,payload:l}),toggleAllModule:e=>({type:"TOGGLE_ALL_MODULE",payload:e})},selectors:{getModules:e=>(0,T.flattenObject)(e.modules).sort(((e,l)=>l?.order-e?.order)).map((e=>({...e,fields:(0,T.flattenObject)(e?.fields)}))),getModuleGroups:e=>(0,T.flattenObject)(e.groups).sort(((e,l)=>e?.order-l?.order)),getModule:(e,l)=>({...e.modules[l],fields:(0,T.flattenObject)(e.modules[l]?.fields)}),getModuleFields:(e,l)=>(0,T.flattenObject)(e.modules[l]?.fields),isModuleEnabled:(e,l)=>e.modules[l]?.enabled}}},j=C;p.register?(0,p.register)((0,p.createReduxStore)(j.name,j.options)):(0,p.registerStore)(j.name,j.options),n()((()=>{const e=document.getElementById(window?.PloverDashboard?.root);let l=null;e&&(0,d.routeSetup)((function(){r.createRoot?(l||(l=(0,r.createRoot)(e)),l.render((0,o.createElement)(k,null))):(0,r.render)((0,o.createElement)(k,null),e)}))}))},239:e=>{var l=void 0;function t(){return window.location.hash.split("/")[0].substring(1)}function o(){var e=window.location.hash.split("/");return e.shift(),e}e.exports={getHash:t,getHashParameters:o,onHashChange:function(e){return l=l.concat(e),function(){l=l.filter((function(l){return l!==e}))}},route:function(e){return window.location.hash=e,null},routeSetup:function(e){!function(e){l=[],window.addEventListener("hashchange",(function(){e();var r=t(),a=o();l.forEach((function(e){setTimeout(e,0,r,a)}))}))}(e),e()}}}},t={};function o(e){var r=t[e];if(void 0!==r)return r.exports;var a=t[e]={exports:{}};return l[e](a,a.exports,o),a.exports}o.m=l,e=[],o.O=(l,t,r,a)=>{if(!t){var n=1/0;for(i=0;i<e.length;i++){for(var[t,r,a]=e[i],d=!0,s=0;s<t.length;s++)(!1&a||n>=a)&&Object.keys(o.O).every((e=>o.O[e](t[s])))?t.splice(s--,1):(d=!1,a<n&&(n=a));if(d){e.splice(i--,1);var u=r();void 0!==u&&(l=u)}}return l}a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[t,r,a]},o.n=e=>{var l=e&&e.__esModule?()=>e.default:()=>e;return o.d(l,{a:l}),l},o.d=(e,l)=>{for(var t in l)o.o(l,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})},o.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={945:0,458:0};o.O.j=l=>0===e[l];var l=(l,t)=>{var r,a,[n,d,s]=t,u=0;if(n.some((l=>0!==e[l]))){for(r in d)o.o(d,r)&&(o.m[r]=d[r]);if(s)var i=s(o)}for(l&&l(t);u<n.length;u++)a=n[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(i)},t=globalThis.webpackChunkplover_kit=globalThis.webpackChunkplover_kit||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})();var r=o.O(void 0,[458],(()=>o(600)));r=o.O(r)})();